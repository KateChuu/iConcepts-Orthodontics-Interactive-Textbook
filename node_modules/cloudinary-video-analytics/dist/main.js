!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(()=>(()=>{"use strict";var e={805:e=>{e.exports=o,e.exports.isMobile=o,e.exports.default=o;const t=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,n=/CrOS/,r=/android|ipad|playbook|silk/i;function o(e){e||(e={});let o=e.ua;if(o||"undefined"==typeof navigator||(o=navigator.userAgent),o&&o.headers&&"string"==typeof o.headers["user-agent"]&&(o=o.headers["user-agent"]),"string"!=typeof o)return!1;let i=t.test(o)&&!n.test(o)||!!e.tablet&&r.test(o);return!i&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==o.indexOf("Macintosh")&&-1!==o.indexOf("Safari")&&(i=!0),i}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{connectCloudinaryAnalytics:()=>Q});var e=n(805);function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var o="play",i="pause",a="loadMetadata",u="cld-custom-",c="viewStart",l="viewEnd",d=function(e,t){var n=function(){t(o,{})};return e.addEventListener("play",n),function(){e.removeEventListener("play",n)}},f=function(e,t){var n=function(){t(o,{})};return e.addEventListener("".concat(u,"play"),n),function(){e.removeEventListener("".concat(u,"play"),n)}},s=function(e,t){var n=function(){t(i,{})};e.addEventListener("pause",n);var r=function(){t(i,{})};return e.addEventListener("emptied",r),function(){e.removeEventListener("pause",n),e.removeEventListener("emptied",r)}},p=function(e,t){var n=function(){t(i,{})};e.addEventListener("".concat(u,"pause"),n);var r=function(){t(i,{})};return e.addEventListener("".concat(u,"emptied"),r),function(){e.removeEventListener("".concat(u,"pause"),n),e.removeEventListener("".concat(u,"emptied"),r)}},y=function(e){var t=e.duration,n=Number.isNaN(t)?null:t;return{videoDuration:Number.POSITIVE_INFINITY===n?"Infinity":n}},v=function(e,t){var n=function(){var n=y(e);t(a,{videoDuration:n.videoDuration})};return e.addEventListener("loadedmetadata",n),e.addEventListener("loadedmetadata_after_init",n),function(){e.removeEventListener("loadedmetadata",n),e.removeEventListener("loadedmetadata_after_init",n)}},m=function(e,t){var n=function(n){var r=y(e),o=n.detail.videoDuration||r.videoDuration;t(a,{videoDuration:o})};e.addEventListener("".concat(u,"loadedmetadata"),n);var r=function(e){t(a,{videoDuration:"number"!=typeof e.detail.videoDuration&&e.detail.videoDuration>0?null:e.detail.videoDuration})};return e.addEventListener("".concat(u,"loadedmetadata_after_init"),r),function(){e.removeEventListener("".concat(u,"loadedmetadata"),n),e.removeEventListener("".concat(u,"loadedmetadata_after_init"),r)}},b=function(e,t){return{eventName:e,eventTime:Date.now(),eventDetails:t}};function g(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e,t){var n={},r={};return function(o,i){n[o]=[],r[o]=[i];var a=n[o],c=r[o],l=function(e,t){return c.push(b(e,t))},y=t?[f(e,l),p(e,l),m(e,l)]:[d(e,l),s(e,l),v(e,l)];!function(e,t){if(e.readyState>0){var n=t?"".concat(u,"loadedmetadata_after_init"):"loadedmetadata_after_init",r=new CustomEvent(n);e.dispatchEvent(r)}}(e,t);return{flushEvents:function(){var e=c.splice(0,c.length);return a.splice.apply(a,[a.length,0].concat(g(e))),e},getAllEvents:function(){return a},destroy:function(){y.forEach((function(e){return e()}))}}}};const S={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let O;const j=new Uint8Array(16);function E(){if(!O&&(O="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!O))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return O(j)}const D=[];for(let e=0;e<256;++e)D.push((e+256).toString(16).slice(1));function I(e,t=0){return(D[e[t+0]]+D[e[t+1]]+D[e[t+2]]+D[e[t+3]]+"-"+D[e[t+4]]+D[e[t+5]]+"-"+D[e[t+6]]+D[e[t+7]]+"-"+D[e[t+8]]+D[e[t+9]]+"-"+D[e[t+10]]+D[e[t+11]]+D[e[t+12]]+D[e[t+13]]+D[e[t+14]]+D[e[t+15]]).toLowerCase()}const P=function(e,t,n){if(S.randomUUID&&!t&&!e)return S.randomUUID();const r=(e=e||{}).random||(e.rng||E)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return I(r)};var L=function(){return P().replace(/-/g,"")},A="cld-analytics-user-id",k=function(){var e=window.localStorage.getItem(A);if(e)return e;var t=P().replace(/-/g,"");return window.localStorage.setItem(A,t),t};function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}var x=function(e){var t="function"==typeof e?e():e;if("object"===N(t)&&null!==t&&!Array.isArray(t)){var n=function(e){return Array.from({length:5}).reduce((function(t,n,r){var o="customData".concat(r+1);return"string"==typeof e[o]&&(t[o]=e[o]),t}),{})}(t);return Object.keys(n).length>0?n:null}return null},T=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,M="native",U=[M,"cloudinary video player"];function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===V(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e,t,n){var r,o,i,a=x(null==n?void 0:n.customData),u=function(e){return null!==e&&JSON.stringify(e).length<=1e3}(a),l=null!=n&&n.customVideoUrlFallback?function(e,t){try{var n=t(e);return{cloudName:n.cloudName,publicId:n.publicId}}catch(e){return null}}(e,n.customVideoUrlFallback):null,d=null!==(r=l)&&"object"===N(r)&&"string"==typeof r.cloudName&&r.cloudName&&"string"==typeof r.publicId&&r.publicId?{cloudName:r.cloudName,publicId:r.publicId}:null;return b(c,C(C({videoUrl:e,analyticsModuleVersion:"1.7.1",videoPlayer:{type:(i=null==n?void 0:n.videoPlayerType,U.includes(i)?i:M),version:(o=null==n?void 0:n.videoPlayerVersion,"string"==typeof o&&T.test(o)?o:null)}},t),{},{customerData:C(C({},u?{providedData:a}:{}),d?{videoData:d}:{})}))};function F(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y=function(e){var t=F(e);return t.push(b(l,{})),JSON.stringify(t)};function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=function(e,t,n,r){var o=function(){var r=t();if(r.length>0){var o=Y(r);n(J(J({},e),{},{events:o}))}},i=function(){return o()},a=function(){"hidden"===document.visibilityState&&o()},u=function(){return o()};return window.addEventListener("beforeunload",i,{once:!0}),r&&(window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",a)),function(){window.removeEventListener("beforeunload",i),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",a),o()}},G=function(e){return e.currentSrc};function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}var Q=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r&&"object"!==K(r))throw"Options property must be an object";var o=null,i=!0===r.customEvents,a=(0,e.isMobile)({tablet:!0,featureDetect:!0}),c=h(n,i),l=function(e){return function(e,t){var n=Object.keys(t).reduce((function(e,n){return e.append(n,t[n]),e}),new FormData);return"function"!=typeof window.navigator.sendBeacon?window.fetch(e,{method:"POST",mode:"no-cors",body:n,keepalive:!0}):window.navigator.sendBeacon(e,n)}("https://video-analytics-api.cloudinary.com/v1/video-analytics",e)},d=function(){o&&(o.clear(),o=null)};return{startManualTracking:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(e){return"object"!==t(e)?{isValid:!1,errorMessage:"Metadata param needs to be an object"}:"string"!=typeof e.cloudName?{isValid:!1,errorMessage:"You need to provide proper cloud name of your Cloudinary account [cloudName: string]"}:"string"!=typeof e.publicId?{isValid:!1,errorMessage:"You need to provide proper video public ID of your video on your Cloudinary cloud [videoPublicId: string]"}:{isValid:!0}}(e);if(!i.isValid)throw"Cloudinary video analytics tracking called without necessary data (".concat(i.errorMessage,")");if(r&&"object"!==K(r))throw"Options property must be an object";r.customVideoUrlFallback=function(){return e},d();var u=L(),f=G(n),s=Z(f,{trackingType:"manual"},r),p=c(u,s),y=q({userId:k(),viewId:u},p.flushEvents,l,a);o={viewId:u,clear:function(){p.destroy(),y()}}},stopManualTracking:d,startAutoTracking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o)throw"Cloudinary video analytics tracking is already connected with this HTML Video Element";if(e&&"object"!==K(e))throw"Options property must be an object";var t=function(){var t=G(n);if(t===window.location.href||!t)return null;var r=L(),i=Z(t,{trackingType:"auto"},e),u=c(r,i),d=q({userId:k(),viewId:r},u.flushEvents,l,a);o={viewId:r,clear:function(){u.destroy(),d()}}},r=i?"".concat(u,"loadstart"):"loadstart",f=i?"".concat(u,"emptied"):"emptied";n.addEventListener(r,(function(){o||t()})),n.addEventListener(f,(function(){d()})),t()}}}})(),r})()));